@model IQueryable<DalaWeb.Domain.Entities.Payments.Payment>

@functions{
    public string PrintMonth(DateTime date)
    {
        return date.ToString("MMMM", System.Globalization.CultureInfo.CreateSpecificCulture("ru-RU"));
    }
}

@foreach (var item in Model)
{
    <tr>
        <td>
            @Html.DisplayFor(modelItem => item.Abonent.AbonentNumber)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.Date.Day)
        </td>
        <td>
            @PrintMonth(item.Date)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.Date.Year)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.Sum)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.Balance)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.Comment)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.Type)
        </td>

        <td>
            <div class="btn-group">
                <button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown">
                    Функции
                    <span class="caret"></span>
                </button>
                <ul class="dropdown-menu" role="menu">
                    <li><a href="@Url.Action("Edit", new { id = item.PaymentId })">Редактировать</a></li>
                    <li><a href="@Url.Action("Details", new { id = item.PaymentId })">Детальнее</a></li>
                    <li><a href="@Url.Action("Delete", new { id = item.PaymentId })">Удалить</a></li>
                </ul>
            </div>
        </td>
    </tr>
}
